{
  "version": "3",
  "name": "cali",
  "description": "Smart video surveillance system",
  "models": [
    {
      "id": "50565668-3a76-9ccf-c841-1344aa1060b0",
      "name": "Alert",
      "accesses": {
        "count": "guest",
        "create": "guest",
        "read": "guest",
        "remove": "guest",
        "search": "guest",
        "update": "guest"
      },
      "fields": [
        {
          "name": "id",
          "type": "string",
          "properties": [
            "primary",
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Alert UUID"
        },
        {
          "name": "createdAt",
          "type": "datetime",
          "properties": [
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Creation date of the alert",
          "meta": {
            "default": "new Date()"
          }
        },
        {
          "name": "type",
          "type": "enum",
          "value": [
            "thief",
            "suspectBehavior"
          ],
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Type of the alert",
          "meta": {
            "backRelation": "alerts"
          }
        },
        {
          "name": "camera",
          "type": "entity",
          "subtype": "oneMany",
          "value": "2c53bc09-414c-e30e-7057-5e3a0ff69a7d",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Camera that emitted the alert ",
          "meta": {
            "backRelation": "alerts"
          }
        },
        {
          "name": "externalFrameId",
          "type": "string",
          "properties": [
            "unique",
            "searchable",
            "sortable"
          ],
          "notes": "External id of the first frame of theframe stack that triggered the alert"
        },
        {
          "name": "externalModelDecisionId",
          "type": "string",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "External id of the AI model responsible of the alert decision"
        },
        {
          "name": "externalModelPredictionId",
          "type": "string",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "External id of the AI model responsible of the alert prediction"
        },
        {
          "name": "videoUrl",
          "type": "string",
          "properties": [
            "nullable",
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Url of the video associated to the alert",
          "meta": {
            "default": "null"
          }
        },
        {
          "name": "videoStatus",
          "type": "enum",
          "value": [
            "generationStarted",
            "generationSuccessed",
            "videoAvailable",
            "videoDeleted"
          ],
          "properties": [
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Status of the video associated to the alert",
          "meta": {
            "default": "AlertVideoStatus.generationStarted"
          }
        }
      ],
      "notes": "Thief alert triggered by the video surveillance analysis"
    },
    {
      "id": "b0db09a5-95d4-4f1e-ee03-bb9600686cf7",
      "name": "AlertFeedback",
      "accesses": {
        "count": "guest",
        "create": "guest",
        "read": "guest",
        "remove": "guest",
        "search": "guest",
        "update": "guest"
      },
      "fields": [
        {
          "name": "id",
          "type": "string",
          "properties": [
            "primary",
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "AlertFeedback UUID"
        },
        {
          "name": "createdAt",
          "type": "datetime",
          "properties": [
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Creation date of the AlertFeeback",
          "meta": {
            "default": "new Date()"
          }
        },
        {
          "name": "type",
          "type": "enum",
          "value": [
            "suspectBehavior",
            "thief",
            "falseAlert"
          ],
          "properties": [
            "nullable",
            "searchable",
            "sortable"
          ],
          "notes": "Type of alert",
          "meta": {}
        },
        {
          "name": "qualification",
          "type": "enum",
          "value": [
            "nothingSuspect",
            "dissuasion",
            "stopped",
            "unstopped",
            "suspectBehavior"
          ],
          "properties": [
            "nullable",
            "searchable",
            "sortable"
          ],
          "notes": "Qualification of alert",
          "meta": {}
        },
        {
          "name": "isArchived",
          "type": "boolean",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Denotes if the alert is archived "
        },
        {
          "name": "isPertinent",
          "type": "boolean",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Denotes if the alert is pertinent"
        },
        {
          "name": "rate",
          "type": "number",
          "subtype": "integer",
          "properties": [
            "nullable",
            "searchable",
            "sortable"
          ],
          "notes": "Rate of the alert from 1Â to 5"
        },
        {
          "name": "rateAnnotation",
          "type": "string",
          "properties": [
            "nullable",
            "searchable",
            "sortable"
          ],
          "notes": "Annotation of the alert rate"
        },
        {
          "name": "alert",
          "type": "entity",
          "subtype": "oneMany",
          "value": "50565668-3a76-9ccf-c841-1344aa1060b0",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Alert associated to the AlertFeedback",
          "meta": {
            "backRelation": "alertFeedbacks"
          }
        },
        {
          "name": "user",
          "type": "entity",
          "subtype": "oneMany",
          "value": "b33de3c6-33c0-8979-020d-23058d515b79",
          "properties": [
            "nullable",
            "searchable",
            "sortable"
          ],
          "notes": "User responsible of the AlertFeedback",
          "meta": {
            "backRelation": "alertFeedbacks"
          }
        },
        {
          "name": "itemCategory",
          "type": "entity",
          "subtype": "oneMany",
          "value": "ad8e9302-8fe9-bb18-c1a1-4fc74ca22605",
          "properties": [
            "nullable",
            "searchable",
            "sortable"
          ],
          "notes": "Category of the item that was stolen",
          "meta": {
            "backRelation": "alertFeedbacks"
          }
        },
        {
          "name": "thiefValue",
          "type": "number",
          "properties": [
            "nullable",
            "searchable",
            "sortable"
          ],
          "notes": "Value of the stolen item"
        }
      ],
      "notes": "Alert feed-backs provided by the security agents"
    },
    {
      "id": "2c53bc09-414c-e30e-7057-5e3a0ff69a7d",
      "name": "Camera",
      "accesses": {
        "count": "guest",
        "create": "guest",
        "read": "guest",
        "remove": "guest",
        "search": "guest",
        "update": "guest"
      },
      "fields": [
        {
          "name": "id",
          "type": "string",
          "properties": [
            "primary",
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Camera UUID"
        },
        {
          "name": "createdAt",
          "type": "datetime",
          "properties": [
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Creation date of the camera",
          "meta": {
            "default": "new Date()"
          }
        },
        {
          "name": "externalId",
          "type": "string",
          "properties": [
            "unique",
            "searchable",
            "sortable"
          ],
          "notes": "External id of the camera "
        },
        {
          "name": "shopSection",
          "type": "entity",
          "subtype": "oneMany",
          "value": "a513969a-46e0-fd52-699b-51140d869445",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Shop section where the camera is located",
          "meta": {
            "backRelation": "cameras"
          }
        }
      ],
      "notes": "Video surveillance camera that monitor the shop"
    },
    {
      "id": "8b0c642d-16f7-4622-caa2-ceae9a16288c",
      "name": "CameraStatus",
      "accesses": {
        "count": "guest",
        "create": "guest",
        "read": "guest",
        "remove": "guest",
        "search": "guest",
        "update": "guest"
      },
      "fields": [
        {
          "name": "id",
          "type": "string",
          "properties": [
            "primary",
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Camera status UUID"
        },
        {
          "name": "createdAt",
          "type": "datetime",
          "properties": [
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Creation date of the camera status",
          "meta": {
            "default": "new Date()"
          }
        },
        {
          "name": "status",
          "type": "enum",
          "value": [
            "ok",
            "corrupted",
            "reloading",
            "out"
          ],
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Status of the camera at the current instant"
        },
        {
          "name": "camera",
          "type": "entity",
          "subtype": "oneMany",
          "value": "2c53bc09-414c-e30e-7057-5e3a0ff69a7d",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Camera that own the status",
          "meta": {
            "backRelation": "cameraStatus"
          }
        }
      ],
      "notes": "Status of a camera at a special moment in time (camera status history)"
    },
    {
      "id": "5d3e69aa-8cd0-6963-908b-a082c6b98fb5",
      "name": "Client",
      "accesses": {
        "count": "guest",
        "create": "guest",
        "read": "guest",
        "remove": "guest",
        "search": "guest",
        "update": "guest"
      },
      "fields": [
        {
          "name": "id",
          "type": "string",
          "properties": [
            "primary",
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Client UUID"
        },
        {
          "name": "createdAt",
          "type": "datetime",
          "properties": [
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Client creation date",
          "meta": {
            "default": "new Date()"
          }
        },
        {
          "name": "name",
          "type": "string",
          "properties": [
            "label",
            "searchable",
            "sortable"
          ],
          "notes": "Name of the client"
        },
        {
          "name": "address",
          "type": "string",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Address of the client"
        },
        {
          "name": "businessName",
          "type": "string",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Business name of the client"
        },
        {
          "name": "businessId",
          "type": "string",
          "properties": [
            "unique",
            "searchable",
            "sortable"
          ],
          "notes": "Business id of the client"
        }
      ],
      "notes": "Client of the Cali application"
    },
    {
      "id": "ad8e9302-8fe9-bb18-c1a1-4fc74ca22605",
      "name": "ItemCategory",
      "accesses": {
        "count": "guest",
        "create": "guest",
        "read": "guest",
        "remove": "guest",
        "search": "guest",
        "update": "guest"
      },
      "fields": [
        {
          "name": "id",
          "type": "string",
          "properties": [
            "primary",
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Item category UUID"
        },
        {
          "name": "createdAt",
          "type": "datetime",
          "properties": [
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Creation date of the item category",
          "meta": {
            "default": "new Date()"
          }
        },
        {
          "name": "name",
          "type": "string",
          "properties": [
            "unique",
            "label",
            "searchable",
            "sortable"
          ],
          "notes": "Name of a category of items"
        },
        {
          "name": "averagePrice",
          "type": "number",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Average price of an item of the category (in euros)"
        }
      ],
      "notes": "Category of item that can be found in a shop"
    },
    {
      "id": "37d0f2c3-94ce-d6cb-a2a1-a2034adc6af9",
      "name": "Shop",
      "accesses": {
        "count": "guest",
        "create": "guest",
        "read": "guest",
        "remove": "guest",
        "search": "guest",
        "update": "guest"
      },
      "fields": [
        {
          "name": "id",
          "type": "string",
          "properties": [
            "primary",
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Shop UUID"
        },
        {
          "name": "createdAt",
          "type": "datetime",
          "properties": [
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Creation date of the shop",
          "meta": {
            "default": "new Date()"
          }
        },
        {
          "name": "name",
          "type": "string",
          "properties": [
            "label",
            "searchable",
            "sortable"
          ],
          "notes": "Shop name"
        },
        {
          "name": "client",
          "type": "entity",
          "subtype": "oneMany",
          "value": "5d3e69aa-8cd0-6963-908b-a082c6b98fb5",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Client that own the shop",
          "meta": {
            "backRelation": "shops"
          }
        },
        {
          "name": "kpis",
          "type": "enum",
          "value": [
            "kpi1",
            "kpi2"
          ],
          "properties": [
            "multiple",
            "searchable",
            "sortable"
          ],
          "notes": "KPIS that can be accessed by the shop"
        }
      ],
      "notes": "Shop owned by a client"
    },
    {
      "id": "787e207a-db9d-dab3-9c28-ba7fcfb27110",
      "name": "ShopDepartment",
      "accesses": {
        "count": "guest",
        "create": "guest",
        "read": "guest",
        "remove": "guest",
        "search": "guest",
        "update": "guest"
      },
      "fields": [
        {
          "name": "id",
          "type": "string",
          "properties": [
            "primary",
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Shop departement UUID"
        },
        {
          "name": "createdAt",
          "type": "datetime",
          "properties": [
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Creation date of the shop department",
          "meta": {
            "default": "new Date()"
          }
        },
        {
          "name": "name",
          "type": "string",
          "properties": [
            "nullable",
            "searchable",
            "sortable"
          ],
          "notes": "Name of the shop departement"
        },
        {
          "name": "shop",
          "type": "entity",
          "subtype": "oneMany",
          "value": "37d0f2c3-94ce-d6cb-a2a1-a2034adc6af9",
          "properties": [],
          "notes": "Shop that the department is part of",
          "meta": {
            "backRelation": "departments"
          }
        }
      ],
      "notes": "Departement of a shop"
    },
    {
      "id": "a513969a-46e0-fd52-699b-51140d869445",
      "name": "ShopSection",
      "accesses": {
        "count": "guest",
        "create": "guest",
        "read": "guest",
        "remove": "guest",
        "search": "guest",
        "update": "guest"
      },
      "fields": [
        {
          "name": "id",
          "type": "string",
          "properties": [
            "primary",
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Shop section UUID"
        },
        {
          "name": "createdAt",
          "type": "datetime",
          "properties": [
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Creation date of the shop section",
          "meta": {
            "default": "new Date()"
          }
        },
        {
          "name": "name",
          "type": "string",
          "properties": [
            "label",
            "searchable",
            "sortable"
          ],
          "notes": "Name of the shop section"
        },
        {
          "name": "shopDepartment",
          "type": "entity",
          "subtype": "oneMany",
          "value": "787e207a-db9d-dab3-9c28-ba7fcfb27110",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Shop departement that the section is part of",
          "meta": {
            "backRelation": "sections"
          }
        },
        {
          "name": "itemCategory",
          "type": "entity",
          "subtype": "oneMany",
          "value": "ad8e9302-8fe9-bb18-c1a1-4fc74ca22605",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Categorie of items that are sold in the section",
          "meta": {
            "backRelation": "shopSections"
          }
        },
        {
          "name": "thiefAveragePrice",
          "type": "number",
          "properties": [
            "searchable",
            "sortable"
          ],
          "notes": "Average price of a thief in the shop section (in euros)"
        }
      ],
      "notes": "Section of a shop departement"
    },
    {
      "id": "b33de3c6-33c0-8979-020d-23058d515b79",
      "name": "User",
      "accesses": {
        "count": "guest",
        "create": "guest",
        "read": "guest",
        "remove": "guest",
        "search": "guest",
        "update": "guest"
      },
      "fields": [
        {
          "name": "id",
          "type": "string",
          "properties": [
            "primary",
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "User UUID"
        },
        {
          "name": "createdAt",
          "type": "datetime",
          "properties": [
            "searchable",
            "sortable",
            "internal"
          ],
          "notes": "Creation date of the user",
          "meta": {
            "default": "new Date()"
          }
        },
        {
          "name": "name",
          "type": "string",
          "properties": [
            "label",
            "searchable",
            "sortable"
          ],
          "notes": "Name of the user"
        },
        {
          "name": "email",
          "type": "string",
          "subtype": "email",
          "properties": [
            "unique",
            "searchable",
            "sortable"
          ],
          "notes": "Email address of the user"
        },
        {
          "name": "password",
          "type": "string",
          "subtype": "password",
          "properties": [
            "hidden"
          ],
          "notes": "User password"
        },
        {
          "name": "roles",
          "type": "enum",
          "value": [
            "admin",
            "user",
            "guest"
          ],
          "properties": [
            "multiple",
            "searchable",
            "sortable"
          ],
          "notes": "Role of the user in the Cali application"
        },
        {
          "name": "shops",
          "type": "entity",
          "subtype": "manyMany",
          "value": "37d0f2c3-94ce-d6cb-a2a1-a2034adc6af9",
          "properties": [
            "nullable",
            "multiple",
            "searchable",
            "sortable"
          ],
          "notes": "Shops that the user is allowed to access",
          "meta": {
            "backRelation": "users"
          }
        }
      ],
      "notes": "User of the Cali application"
    }
  ]
}